<!-- *********************************************************************** -->
<!-- ** MASTER CRUISECONTROL CONTROL FILES                                ** -->
<!-- *********************************************************************** -->
<cruisecontrol>

    <property name="env.CCDIR" value="C:/dev/cruisecontrol" />
    <property name="env.CCNAME" value="6116-tavelae-1.nci.nih.gov" />
    <property name="env.CCWEBPORT" value="8888" />
    <property environment="env" toupper="true" />
    <property name="svn.users.file" value="svn.users.properties"/>
    <property name="email.buildresultsurl.prefix" value="http://${env.CCNAME}:${env.CCWEBPORT}/cruisecontrol/buildresults/"/>

    <plugin name="htmlemail"
        classname="net.sourceforge.cruisecontrol.publishers.HTMLEmailPublisher"
        mailhost="mailfwd.nih.gov"
        returnaddress="tavelae@mail.nih.gov"
        returnname="CRUISECONTROL"
        subjectprefix="BUILD:"
        xsldir="${env.CCDIR}/webapps/cruisecontrol/xsl"
        css="${env.CCDIR}/webapps/cruisecontrol/css/cruisecontrol.css" />

    <project name="caintegrator2_ci" buildafterfailed="false">

        <labelincrementer separator="_" defaultLabel="CAINTEGRATOR2_BL_1" />

        <bootstrappers>
            <currentbuildstatusbootstrapper file="logs/${project.name}/buildstatus.txt" />
            <svnbootstrapper localworkingcopy="projects/${project.name}" file="software\caintegrator2-war\delegating-build.xml" />
        </bootstrappers>

        <modificationset quietperiod="0" ignoreFiles="*/docs/*/*.*">
            <svn localworkingcopy="projects/${project.name}" />
        </modificationset>

        <schedule interval="60">
            <ant anthome="C:\dev\tools\apache-ant-1.7.0"
                buildfile="projects\${project.name}\software\caintegrator2-war\delegating-build.xml" target="continuous-integration" uselogger="true"
                usedebug="false">
            </ant>
        </schedule>

        <log dir="logs\${project.name}">
            <merge dir="projects\${project.name}\software\build\site\junit" />
            <gzip every="1" unit="WEEK"/>
            <delete every="3" unit="WEEK" ignoreSuffix="true"/>
        </log>

        <publishers>
            <artifactspublisher dir="projects\${project.name}\software\reports" dest="artifacts\${project.name}" />
            <currentbuildstatuspublisher file="logs/${project.name}/buildstatus.txt" />
            <htmlemail buildresultsurl="${email.buildresultsurl.prefix}${project.name}" skipusers="true">
                <always address="etavela@5amsolutions.com" />
                <always address="mholck@scenpro.com" />
                <always address="tandrews@scenpro.com" />
                <always address="jacobss2@mail.nih.gov" />
            </htmlemail>
        </publishers>

    </project>

    <project name="caintegrator2_nightly" buildafterfailed="false">

        <labelincrementer separator="_" defaultLabel="CAINTEGRATOR2_NIGHTLY_BL_1" />

        <bootstrappers>
            <currentbuildstatusbootstrapper file="logs/${project.name}/buildstatus.txt" />
            <svnbootstrapper localworkingcopy="projects/${project.name}" file="software\caintegrator2-war\delegating-build.xml" />
        </bootstrappers>

        <modificationset quietperiod="0" ignoreFiles="*/docs/*/*.*">
            <svn localworkingcopy="projects/${project.name}" />
        </modificationset>

        <schedule interval="1800">
            <ant anthome="C:\dev\tools\apache-ant-1.7.0"
                buildfile="projects\${project.name}\software\caintegrator2-war\delegating-build.xml" target="nightly-build" uselogger="true"
                usedebug="false"
                time="2359">
            </ant>
        </schedule>

        <log dir="logs\${project.name}">
            <merge dir="projects\${project.name}\software\build\site\junit" />
            <gzip every="1" unit="MONTH"/>
            <delete every="3" unit="MONTH" ignoreSuffix="true"/>
        </log>

        <publishers>
            <artifactspublisher dir="projects\${project.name}\software\reports" dest="artifacts\${project.name}" />
            <currentbuildstatuspublisher file="logs/${project.name}/buildstatus.txt" />
            <htmlemail buildresultsurl="${email.buildresultsurl.prefix}${project.name}" skipusers="true">
                <always address="etavela@5amsolutions.com" />
                <always address="mholck@scenpro.com" />
                <always address="tandrews@scenpro.com" />
                <always address="jacobss2@mail.nih.gov" />
            </htmlemail>
        </publishers>

    </project>

</cruisecontrol>
