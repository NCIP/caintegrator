<?xml version="1.0" encoding="UTF-8"?>
 
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.7"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.7
	http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.7.xsd">
	<preConditions>            
		<or>
			<dbms type="oracle" />                     
			<dbms type="mysql" />                     
		</or>
	</preConditions>                                       
	<changeSet id="1" author="ssaksa">        
		<comment>Need to have at least one changeset to allow tagging to work.</comment>
		<sql>select now()</sql>
	</changeSet>
    <changeSet id="1.1" author="tandrews">
        <comment>Updates DB for v1.1</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.sql"/>
    </changeSet>
    <changeSet id="1.1.1" author="nnguyen">
        <comment>Updates DB for v1.1.1</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.1.sql"/>
    </changeSet>
    <changeSet id="1.1.2" author="tandrews">
        <comment>Adds column "LAST_MODIFIED_BY_USER_ID" to STUDY_CONFIGURATION table</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.2.sql"/>
    </changeSet>
    <changeSet id="1.1.3" author="tandrews">
        <comment>Adds column "LAST_MODIFIED_DATE" to STUDY_CONFIGURATION table</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.3.sql"/>
    </changeSet>
    <changeSet id="1.1.4" author="nnguyen">
        <comment>Adds COPY_NUMBER_SINGLE_DATA_FILE to GENOMIC_DATA_SOURCE_CONFIGURATION table</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.4.sql"/>
    </changeSet>
    <changeSet id="1.1.4.1" author="nnguyen">
        <comment>Sets default value for COPY_NUMBER_SINGLE_DATA_FILE</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.4.1.sql"/>
    </changeSet>
    <changeSet id="1.1.5" author="nnguyen">
        <comment>Sets default value for SHOW_IN_BROWSE</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.5.sql"/>
    </changeSet>
    <changeSet id="1.1.6" author="tandrews">
        <comment>Adds EXTERNAL_LINK_LIST and EXTERNAL_LINK tables.</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.6.sql"/>
    </changeSet>
    <changeSet id="1.1.7" author="tandrews">
        <comment>Adds CATEGORY field to EXTERNAL_LINK table.</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.7.sql"/>
    </changeSet>
    <changeSet id="1.1.8" author="tandrews">
        <comment>Updates the sizes of the GENE_SYMBOL columns to 1200.</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.8.sql"/>
    </changeSet>
    <changeSet id="1.1.9" author="nguyennh">
        <comment>Add SAMPLE_MAPPING_FILE_PATH to GENOMIC_DATA_SOURCE_CONFIGURATION table.</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.9.sql"/>
    </changeSet>
    <changeSet id="1.1.10" author="tandrews">
        <comment>Update database to use new SUBJECT_LIST/SUBJECT_LIST_CRITERION.</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.10.sql"/>
    </changeSet>
    <changeSet id="1.1.11" author="nguyennh">
        <comment>Add METHOD to ABSTRACT_PERSISTED_ANALYSIS_JOB table.</comment>
        <sqlFile path="@db-upgrade.run.dir@/upgrade-1.1.11.sql"/>
    </changeSet>
</databaseChangeLog>
